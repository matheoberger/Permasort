<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grille de Dessin</title>
    <style>
        /* Centrer la grille au milieu de l'écran */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }

        /* Style pour la grille */
        .grid {
            position: relative;
            width: 500px;
            height: 500px;
            background-size: 25px 25px; /* Taille des carrés */
            background-image: linear-gradient(to right, lightgray 1px, transparent 1px),
                              linear-gradient(to bottom, lightgray 1px, transparent 1px);
        }

        /* Style pour les rectangles dessinés */
        .rectangle {
            position: absolute;
            border: 2px solid #000;
            background-color: rgba(0, 0, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="grid" id="grid"></div>

    <script>
        // Initialiser les variables pour le dessin
        let startX, startY, rect;
        const gridSize = 25; // Taille des carreaux

        // Fonction pour aligner aux lignes de la grille
        function snapToGrid(value) {
            return Math.round(value / gridSize) * gridSize;
        }

        // Ajouter les événements pour dessiner un rectangle
        const grid = document.getElementById('grid');

        grid.addEventListener('mousedown', (e) => {
            startX = snapToGrid(e.offsetX);
            startY = snapToGrid(e.offsetY);

            rect = document.createElement('div');
            rect.className = 'rectangle';
            rect.style.left = `${startX}px`;
            rect.style.top = `${startY}px`;
            grid.appendChild(rect);

            grid.addEventListener('mousemove', drawRectangle);
        });

        grid.addEventListener('mouseup', () => {
            grid.removeEventListener('mousemove', drawRectangle);
        });

        function drawRectangle(e) {
            let currentX = snapToGrid(e.offsetX);
            let currentY = snapToGrid(e.offsetY);

            rect.style.width = `${Math.abs(currentX - startX)}px`;
            rect.style.height = `${Math.abs(currentY - startY)}px`;

            if (currentX < startX) {
                rect.style.left = `${currentX}px`;
            }
            if (currentY < startY) {
                rect.style.top = `${currentY}px`;
            }
        }
    </script>
</body>
</html>
